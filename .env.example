# ==============================================================================
# CLERK AUTHENTICATION (for documentation access)
# ==============================================================================
CLERK_JWKS_URI=https://<xyz>.accounts.dev/.well-known/jwks.json
CLERK_SECRET_KEY=sk_test_<xyz>

# ==============================================================================
# SERVER CONFIGURATION
# ==============================================================================
PORT=3001
FRONTEND_URL=http://localhost:3000

# ==============================================================================
# KEYCLOAK (Production - optional)
# ==============================================================================
# If KEYCLOAK_URL is set, credentials will be fetched from Keycloak
# If not set, credentials will be read from environment variables below
KEYCLOAK_URL=
# KEYCLOAK_REALM=
# KEYCLOAK_CLIENT_ID=
# KEYCLOAK_CLIENT_SECRET=

# ==============================================================================
# DEFAULT WORKSPACE CREDENTIALS (Development Fallback)
# ==============================================================================
# These are used when Keycloak is not configured
# Or as the default workspace when user doesn't have workspace metadata

# OAuth2 Configuration
AUTH_TOKEN_URL=https://id.finarkein.com/auth/realms/fin-dev/protocol/openid-connect/token
AUTH_CLIENT_ID=client-tsfsl-03d952d6
AUTH_CLIENT_SECRET=abcd

# API Configuration
FACTORY_API=https://api.finarkein.in/factory/v1
workspace=tsfsl

# Nerv Flow IDs
nerv.flow.id=376b71fe-009b-4154-850c-fa0eb65b4d5a
recurring.nerv.flow.id=2627928c-03d4-4fb4-a1fd-c2e1a42723cc

# ==============================================================================
# ADDITIONAL WORKSPACES (Development Only)
# ==============================================================================
# Format: {WORKSPACE_NAME}_AUTH_CLIENT_ID, {WORKSPACE_NAME}_AUTH_CLIENT_SECRET, etc.
# The workspace name should match what's in Clerk user metadata

# Example: Demo Workspace
# DEMO_AUTH_CLIENT_ID=client-demo-xyz123
# DEMO_AUTH_CLIENT_SECRET=demo-secret-key
# DEMO_NERV_FLOW_ID=demo-flow-id-here
# DEMO_RECURRING_FLOW_ID=demo-recurring-flow-id

# Example: Acme Corp Workspace
# ACME_AUTH_CLIENT_ID=client-acme-abc456
# ACME_AUTH_CLIENT_SECRET=acme-secret-key
# ACME_NERV_FLOW_ID=acme-flow-id-here
# ACME_RECURRING_FLOW_ID=acme-recurring-flow-id

# ==============================================================================
# HOW IT WORKS
# ==============================================================================
# 1. Customer logs in via Clerk
# 2. Clerk JWT contains workspace in publicMetadata (e.g., "acme")
# 3. Backend reads ACME_AUTH_CLIENT_ID, ACME_AUTH_CLIENT_SECRET, etc.
# 4. Frontend displays credentials at /settings/api-keys
# 5. API calls auto-use these credentials (no manual input needed)
#
# Production: Set KEYCLOAK_URL and credentials come from Keycloak
# Development: Leave KEYCLOAK_URL empty and use env vars above